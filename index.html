<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>info – mattia de lotto</title>
  <meta name="description" content="Portfolio and information of Mattia De Lotto, Italian architectural designer currently based in Delft, the Netherlands.">
  
  <!-- Preload icons, fonts, etc. -->
  <link rel="preload" href="img/arrow-social.svg" as="image">
  <link rel="preload" href="img/arrow-archive.svg" as="image">
  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="img/favicon.png" />

  <!-- Reference your external stylesheet -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <div class="wrapper">
    <header class="header">
  <div>
    <a href="/" style="text-decoration: none; color: inherit;">
      Mattia De Lotto
    </a>
  </div>
      <div class="social">
        <a href="https://www.instagram.com/mattiadelotto/" target="_blank">
          Instagram <span class="arrow-icon"><img src="img/arrow-social.svg" alt="External link icon"></span>
        </a>
        <a href="https://www.linkedin.com/in/mattia-de-lotto/" target="_blank">
          LinkedIn <span class="arrow-icon"><img src="img/arrow-social.svg" alt="External link icon"></span>
        </a>
        <a id="email-link" style="cursor:pointer;">
          Contact <span class="arrow-icon"><img src="img/arrow-social.svg" alt="Email link icon"></span>
        </a>
      </div>
    </header>

    <main class="container">
      <div class="content">
        <p>Mattia De Lotto is an Italian architectural designer currently based in Delft, the Netherlands. He completed his Bachelor's Degree in Architecture at Iuav University of Venice and is now finishing his Master's at the Faculty of Architecture at TU Delft, where he's currently working on his graduation thesis.</p>
        <p>Currently he is working at the Faculty of Architecture at TU Delft as an assistant to the research project Port City Future.</p>
        <p>He has worked first at GEZA Architettura in Udine (Italy) and then majoral·tissino architects in Barcelona (Spain), gaining experience on a variety of projects across different scales and contexts.</p>
        <p>His latest research project, "The (Im)possible Palimpsest", reflects on Piranesi’s Campo Marzio and is set to be published by Drawing Matter.</p>
      </div>
    </main>

    <footer class="archive" id="archive-bar">
      <button class="archive-link" id="archive-btn" onclick="toggleArchive()">
        Archive <span class="arrow-icon"><img src="img/arrow-archive.svg" alt="Toggle archive"></span>
      </button>
      <div id="search-container">
        <button id="search-toggle">
          <img src="img/search-icon.svg" alt="Search" />
        </button>
        <input
          type="text"
          id="search-input"
          placeholder="Find a project..."
          onkeyup="filterCatalogue()"
        />
      </div>
    </footer>

     <div class="catalogue" id="catalogue">
      <div class="table-row table-head">
        <div onclick="sortTable(0)">Code <span id="arrow-0"></span></div>
        <div onclick="sortTable(1)">Title <span id="arrow-1"></span></div>
        <div onclick="sortTable(2)">Type <span id="arrow-2"></span></div>
        <div onclick="sortTable(3)">Year <span id="arrow-3"></span></div>
        <div onclick="sortTable(4)">Category <span id="arrow-4"></span></div>
        <div></div>
      </div>

      <!-- 001 - no details -->
      <div class="table-row">
        <div>001</div>
        <div>Venetian Tale</div>
        <div>Pavilion</div>
        <div>2020</div>
        <div>Academic (Iuav Venice)</div>
        <div class="indicator">○</div>
      </div>

      <!-- 002 - with details -->
      <div class="table-row has-details" onclick="toggleDetails(this)">
        <div>002</div>
        <div>Palimpsest Tower</div>
        <div>Pavilion</div>
        <div>2020</div>
        <div>Competition</div>
        <div class="indicator">●</div>
         <div class="details">
    <p>Competition for ArkxSite in collaboration with Alessandra D'Acunto.</p>
    
    <div class="image-gallery">
      <img src="img/002_palimpsest1.jpg" alt="Outside view" data-image-index="0">
      <img src="img/002_palimpsest2.jpg" alt="Inside view" data-image-index="1">
    </div>
        </div>
      </div>

      <!-- 003 - no details -->
      <div class="table-row">
        <div>003</div>
        <div>+House</div>
        <div>House and Atelier</div>
        <div>2021</div>
        <div>Academic (Iuav Venice)</div>
        <div class="indicator">○</div>
      </div>

      <!-- 004 - no details -->
      <div class="table-row">
        <div>004</div>
        <div>Save the Kiln!</div>
        <div>Restoration of national Heritage site</div>
        <div>2021</div>
        <div>Academic (Iuav Venice)</div>
        <div class="indicator">○</div>
      </div>

      <!-- 005 - no details -->
      <div class="table-row">
        <div>005</div>
        <div>Reconstructions</div>
        <div>School and Restoration of collapsed church</div>
        <div>2022</div>
        <div>Academic (graduation project - Iuav Venice)</div>
        <div class="indicator">○</div>
      </div>

      <!-- 006 - with details -->
      <div class="table-row has-details" onclick="toggleDetails(this)">
        <div>006</div>
        <div>In continuity</div>
        <div>Pavilion and heritage restoration</div>
        <div>2022</div>
        <div>Competition</div>
        <div class="indicator">●</div>
        <div class="details">
          <p>Competition for ReuseItaly in collaboration with Alessandra D'Acunto and Edoardo Ambrosio.</p>
        </div>
      </div>

      <!-- 007 - no details -->
      <div class="table-row">
        <div>007</div>
        <div>Portes Obertes</div>
        <div>Restoration of Castle in Llinars del Valles</div>
        <div>2023</div>
        <div>Competition @majoral·tissino architects</div>
        <div class="indicator">○</div>
      </div>

      <!-- 008 - no details -->
      <div class="table-row">
        <div>008</div>
        <div>Beyond urban</div>
        <div>Architectural and urban restoration</div>
        <div>2023</div>
        <div>Academic (TU Delft)</div>
        <div class="indicator">○</div>
      </div>

      <!-- 009 - with details -->
      <div class="table-row has-details" onclick="toggleDetails(this)">
        <div>009</div>
        <div>A new continuity</div>
        <div>Masterplan for Lignano Sabbiadoro Waterfront</div>
        <div>2024</div>
        <div>Competition</div>
        <div class="indicator">●</div>
        <div class="details">
          <p>Competition for Terraviva in collaboration with Alessandra D'Acunto.</p>
        </div>
      </div>

      <!-- 010 - no details -->
      <div class="table-row">
        <div>010</div>
        <div>The (im)possible palimpsest</div>
        <div>Research on Piranesi's Campo Marzio</div>
        <div>2024</div>
        <div>Academic (TU Delft)</div>
        <div class="indicator">○</div>
      </div>

      <!-- 011 - no details -->
      <div class="table-row">
        <div>011</div>
        <div>Post-extraction scenarios</div>
        <div>Underground mine</div>
        <div>2024</div>
        <div>Academic (TU Delft)</div>
        <div class="indicator">○</div>
      </div>

      <!-- 012 - no details -->
      <div class="table-row">
        <div>012</div>
        <div>Transfigurations</div>
        <div>Master Thesis</div>
        <div>2024-ongoing</div>
        <div>Academic (TU Delft)</div>
        <div class="indicator">○</div>
      </div>

      <!-- 013 - with details -->
      <div class="table-row has-details" onclick="toggleDetails(this)">
        <div>013</div>
        <div>Park Apartment</div>
        <div>Renovation</div>
        <div>2024-ongoing</div>
        <div>Professional</div>
        <div class="indicator">●</div>
        <div class="details">
          <p>This is a placeholder for project 13 additional content.</p>
        </div>

    </div>
  </div>

  <!-- Lightbox overlay for enlarged images (hidden by default) -->
<div id="lightbox-overlay">
  <!-- close button with your esc-lightbox.svg -->
  <button id="lb-close">
    <img src="img/esc-lightbox.svg" alt="Close lightbox">
  </button>
  <!-- previous button with arrow-left-lightbox.svg -->
  <button id="lb-prev">
    <img src="img/arrow-left-lightbox.svg" alt="Previous image">
  </button>
  <!-- next button with arrow-right-lightbox.svg -->
  <button id="lb-next">
    <img src="img/arrow-right-lightbox.svg" alt="Next image">
  </button>
  <img id="lightbox-img" src="" alt="Enlarged image">
</div>


  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // 1) Obscure email
      const emailLink = document.getElementById('email-link');
      const user = 'hello.mattiadelotto';
      const domain = 'gmail.com';
      emailLink.href = `mailto:${user}@${domain}`;

      // 2) Toggle Archive / Collapsed
      const archiveBtn      = document.getElementById('archive-btn');
      const catalogue       = document.getElementById('catalogue');
      const searchContainer = document.getElementById('search-container');
      window.toggleArchive = function() {
        document.body.classList.toggle('collapsed');
        archiveBtn.classList.toggle('active');
        const isActive = catalogue.classList.toggle('active');

        if (isActive) {
          catalogue.style.display = 'block';
          requestAnimationFrame(() => {
            catalogue.style.opacity = '1';
            catalogue.style.transform = 'translateY(0)';
          });
          searchContainer.style.display = 'flex';
        } else {
          catalogue.style.opacity = '0';
          catalogue.style.transform = 'translateY(80px)';
          setTimeout(() => catalogue.style.display = 'none', 600);
          searchContainer.style.display = 'none';
        }
      };

      // 3) Expand .details
      window.toggleDetails = function(row) {
        row.classList.toggle('expanded');
      };

      // 4) Sorting
      let currentSort = { column: null, ascending: true };
      window.sortTable = function(colIndex) {
        const rows = Array.from(catalogue.querySelectorAll('.table-row:not(.table-head)'));
        if (currentSort.column === colIndex) {
          currentSort.ascending = !currentSort.ascending;
        } else {
          currentSort.column = colIndex;
          currentSort.ascending = true;
        }
        const sorted = rows.sort((a, b) => {
          const aText = a.children[colIndex].textContent.trim().toLowerCase();
          const bText = b.children[colIndex].textContent.trim().toLowerCase();
          return currentSort.ascending
            ? aText.localeCompare(bText, undefined, { numeric: true })
            : bText.localeCompare(aText, undefined, { numeric: true });
        });
        sorted.forEach(row => catalogue.appendChild(row));
        for (let i = 0; i < 5; i++) {
          const arrow = document.getElementById(`arrow-${i}`);
          arrow.textContent = (i === colIndex)
            ? (currentSort.ascending ? '↑' : '↓')
            : '';
        }
      };

      // 5) Search/Filter
      window.filterCatalogue = function() {
        const input = document.getElementById('search-input');
        const filter = input.value.toLowerCase();
        const rows = document.querySelectorAll('.table-row:not(.table-head)');
        rows.forEach(row => {
          const text = row.textContent.toLowerCase();
          row.style.display = text.includes(filter) ? '' : 'none';
        });
      };

      // Toggling the search input
      document.getElementById('search-toggle').addEventListener('click', () => {
        const input = document.getElementById('search-input');
        input.style.display = (input.style.display === 'none' || input.style.display === '') ? 'inline-block' : 'none';
        if (input.style.display === 'inline-block') input.focus();
      });

      // 6) Lightbox overlay for .image-gallery images
document.addEventListener('DOMContentLoaded', function() {
  const overlay  = document.getElementById('lightbox-overlay');
  const lbClose  = document.getElementById('lb-close');
  const lbPrev   = document.getElementById('lb-prev');
  const lbNext   = document.getElementById('lb-next');
  const lbImg    = document.getElementById('lightbox-img');

  let images = [];
  let currentIndex = 0;

  images = Array.from(document.querySelectorAll('.image-gallery img'));
  images.forEach((img, i) => {
    img.dataset.index = i;
    img.addEventListener('click', (e) => {
      e.stopPropagation();
      currentIndex = i;
      showLightbox();
    });
  });

  function showLightbox() {
    lbImg.src = images[currentIndex].src;
    overlay.style.display = 'flex';
  }
  function hideLightbox() {
    overlay.style.display = 'none';
  }
  function showNext() {
    currentIndex = (currentIndex + 1) % images.length;
    lbImg.src = images[currentIndex].src;
  }
  function showPrev() {
    currentIndex = (currentIndex - 1 + images.length) % images.length;
    lbImg.src = images[currentIndex].src;
  }

  lbClose.addEventListener('click', hideLightbox);
  lbPrev.addEventListener('click', showPrev);
  lbNext.addEventListener('click', showNext);

  overlay.addEventListener('click', (e) => {
    if (overlay.style.display === 'none') return;
    const imgRect = lbImg.getBoundingClientRect();
    const mouseX = e.clientX;
    const mouseY = e.clientY;

    if (mouseX < imgRect.left || mouseX > imgRect.right || mouseY < imgRect.top || mouseY > imgRect.bottom) {
      hideLightbox();
    } else {
      const midpointX = (imgRect.left + imgRect.right) / 2;
      if (mouseX < midpointX) {
        showPrev();
      } else {
        showNext();
      }
    }
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' || e.keyCode === 27) {
      hideLightbox();
    }
  });

  overlay.addEventListener('mousemove', (e) => {
    if (overlay.style.display === 'none') return;
    const imgRect = lbImg.getBoundingClientRect();
    const mouseX = e.clientX;
    const mouseY = e.clientY;

    const escCursor = "url('img/esc-lightbox.png') 15 15, pointer";
    const leftCursor = "url('img/arrow-left-lightbox.png') 15 15, pointer";
    const rightCursor = "url('img/arrow-right-lightbox.png') 15 15, pointer";

    if (mouseX < imgRect.left || mouseX > imgRect.right || mouseY < imgRect.top || mouseY > imgRect.bottom) {
      overlay.style.cursor = escCursor;
    } else {
      const midpointX = (imgRect.left + imgRect.right) / 2;
      overlay.style.cursor = (mouseX < midpointX) ? leftCursor : rightCursor;
    }
  });
  });
</script>
</body>
</html>
